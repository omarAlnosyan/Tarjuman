<mxfile host="65bd71144e">
    <diagram name="Simple RAG Flow" id="page1" compressed="0">
        <mxGraphModel dx="700" dy="600" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="700" pageHeight="600" math="0" shadow="0">
            <root>
                <mxCell id="0"/>
                <mxCell id="1" parent="0"/>
                <mxCell id="title" value="Simple RAG Flow" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=16;fontStyle=1" parent="1" vertex="1">
                    <mxGeometry x="250" y="20" width="200" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="data" value="Knowledge Base&#xa;(687 verses)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E8F5E9;strokeColor=#388E3C;fontSize=13;fontStyle=1" parent="1" vertex="1">
                    <mxGeometry x="280" y="80" width="140" height="50" as="geometry"/>
                </mxCell>
                <mxCell id="embed" value="Chunking + Embedding&#xa;(multilingual-e5-base)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFF2CC;strokeColor=#D6B656;fontSize=12;" parent="1" vertex="1">
                    <mxGeometry x="260" y="160" width="180" height="50" as="geometry"/>
                </mxCell>
                <mxCell id="vecdb" value="Vector DB&#xa;ChromaDB + BM25" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E0F7FA;strokeColor=#0097A7;fontSize=13;fontStyle=1" parent="1" vertex="1">
                    <mxGeometry x="280" y="240" width="140" height="50" as="geometry"/>
                </mxCell>
                <mxCell id="query" value="User Query" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E3F2FD;strokeColor=#1976D2;fontSize=13;fontStyle=1" parent="1" vertex="1">
                    <mxGeometry x="50" y="330" width="120" height="50" as="geometry"/>
                </mxCell>
                <mxCell id="search" value="Hybrid Search&#xa;(Exact + BM25 + Vector)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E1D5E7;strokeColor=#9673A6;fontSize=12;" parent="1" vertex="1">
                    <mxGeometry x="260" y="330" width="180" height="50" as="geometry"/>
                </mxCell>
                <mxCell id="retrieve" value="Retrieved Context" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#D5E8D4;strokeColor=#82B366;fontSize=12;" parent="1" vertex="1">
                    <mxGeometry x="530" y="330" width="140" height="50" as="geometry"/>
                </mxCell>
                <mxCell id="llm" value="LLM Generation&#xa;(Llama 3.3 70B)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFE6CC;strokeColor=#D79B00;fontSize=12;" parent="1" vertex="1">
                    <mxGeometry x="530" y="420" width="140" height="50" as="geometry"/>
                </mxCell>
                <mxCell id="output" value="Response" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#D5E8D4;strokeColor=#82B366;fontSize=13;fontStyle=1" parent="1" vertex="1">
                    <mxGeometry x="280" y="510" width="140" height="50" as="geometry"/>
                </mxCell>
                <mxCell id="a1" value="Index" style="endArrow=classic;html=1;strokeWidth=2;strokeColor=#666666;exitX=0.5;exitY=1;entryX=0.5;entryY=0;" edge="1" parent="1" source="data" target="embed">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="a2" value="Store" style="endArrow=classic;html=1;strokeWidth=2;strokeColor=#666666;exitX=0.5;exitY=1;entryX=0.5;entryY=0;" edge="1" parent="1" source="embed" target="vecdb">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="b1" style="endArrow=classic;html=1;strokeWidth=2;strokeColor=#666666;exitX=1;exitY=0.5;entryX=0;entryY=0.5;" edge="1" parent="1" source="query" target="search">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="b2" value="Search" style="endArrow=classic;html=1;strokeWidth=2;strokeColor=#666666;dashed=1;exitX=0.5;exitY=0;entryX=0.5;entryY=1;" edge="1" parent="1" source="search" target="vecdb">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="b3" style="endArrow=classic;html=1;strokeWidth=2;strokeColor=#666666;exitX=1;exitY=0.5;entryX=0;entryY=0.5;" edge="1" parent="1" source="search" target="retrieve">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="b4" value="Generate" style="endArrow=classic;html=1;strokeWidth=2;strokeColor=#D79B00;exitX=0.5;exitY=1;entryX=0.5;entryY=0;" edge="1" parent="1" source="retrieve" target="llm">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="b5" style="endArrow=classic;html=1;strokeWidth=2;strokeColor=#666666;exitX=0;exitY=0.5;entryX=1;entryY=0.5;" edge="1" parent="1" source="llm" target="output">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="500" y="445"/>
                            <mxPoint x="500" y="535"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="b6" value="Direct" style="endArrow=classic;html=1;strokeWidth=2;strokeColor=#7B1FA2;dashed=1;exitX=0.5;exitY=1;entryX=0;entryY=0.5;" edge="1" parent="1" source="search" target="output">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="350" y="420"/>
                            <mxPoint x="220" y="420"/>
                            <mxPoint x="220" y="535"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="note1" value="Poetry: Direct retrieval" style="text;html=1;strokeColor=none;fillColor=#F3E5F5;align=center;fontSize=10;" vertex="1" parent="1">
                    <mxGeometry x="50" y="480" width="120" height="20" as="geometry"/>
                </mxCell>
                <mxCell id="note2" value="General: LLM generation" style="text;html=1;strokeColor=none;fillColor=#FFE6CC;align=center;fontSize=10;" vertex="1" parent="1">
                    <mxGeometry x="530" y="480" width="140" height="20" as="geometry"/>
                </mxCell>
            </root>
        </mxGraphModel>
    </diagram>
</mxfile>
